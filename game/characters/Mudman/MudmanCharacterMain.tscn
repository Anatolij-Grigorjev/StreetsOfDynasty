[gd_scene load_steps=25 format=2]

[ext_resource path="res://characters/CharacterTemplate.tscn" type="PackedScene" id=1]
[ext_resource path="res://characters/Mudman/MudmanCharacterRig.tscn" type="PackedScene" id=2]
[ext_resource path="res://characters/PerpetualState.gd" type="Script" id=3]
[ext_resource path="res://characters/FiniteState.gd" type="Script" id=4]
[ext_resource path="res://characters/Mudman/MudmanCharacterMain.gd" type="Script" id=5]
[ext_resource path="res://characters/Hitbox.gd" type="Script" id=6]
[ext_resource path="res://characters/HurtStateAspect.gd" type="Script" id=7]
[ext_resource path="res://characters/Mudman/MudmanStateMachine.gd" type="Script" id=8]
[ext_resource path="res://characters/HealthBar.tscn" type="PackedScene" id=9]
[ext_resource path="res://characters/AreaGroupTimeline.gd" type="Script" id=10]
[ext_resource path="res://characters/WalkStateAspect.gd" type="Script" id=11]
[ext_resource path="res://Logger.gd" type="Script" id=12]
[ext_resource path="res://characters/MovedStateAspect.gd" type="Script" id=13]
[ext_resource path="res://characters/AttackTypeHitEffects.gd" type="Script" id=14]
[ext_resource path="res://characters/spritefx/BleedingHitEffect.tscn" type="PackedScene" id=15]
[ext_resource path="res://characters/spritefx/BluntHitEffect.tscn" type="PackedScene" id=16]
[ext_resource path="res://characters/DyingStateAspect.gd" type="Script" id=17]
[ext_resource path="res://characters/Mudman/MudmanCorpse.tscn" type="PackedScene" id=18]

[sub_resource type="RectangleShape2D" id=1]
extents = Vector2( 42.4063, 87.6463 )

[sub_resource type="RectangleShape2D" id=2]
extents = Vector2( 39.532, 88.51 )

[sub_resource type="RectangleShape2D" id=3]
extents = Vector2( 37.801, 74.3964 )

[sub_resource type="RectangleShape2D" id=4]
extents = Vector2( 37.1226, 65.5772 )

[sub_resource type="RectangleShape2D" id=5]
extents = Vector2( 63.58, 18.768 )

[sub_resource type="StyleBoxFlat" id=6]
bg_color = Color( 0, 0, 0, 1 )

[node name="MudmanCharacterMain" instance=ExtResource( 1 )]
script = ExtResource( 5 )
move_speed = Vector2( 200, 100 )

[node name="FSM" parent="." index="0"]
script = ExtResource( 8 )

[node name="Idle" type="Node" parent="FSM" index="0"]
script = ExtResource( 3 )
state_params_filepath = "res://characters/Mudman/state_data/idle.json"
hitbox_areas_timeline_path = NodePath("../../Body/HitboxGroup/HurtTimeline")

[node name="Walk" type="Node" parent="FSM" index="1"]
script = ExtResource( 3 )
state_params_filepath = "res://characters/Mudman/state_data/walk.json"
hitbox_areas_timeline_path = NodePath("../../Body/HitboxGroup/HurtTimeline")

[node name="WalkStateAspect" type="Node" parent="FSM/Walk" index="0"]
script = ExtResource( 11 )

[node name="Hurt" type="Node" parent="FSM" index="2"]
script = ExtResource( 4 )
state_params_filepath = "res://characters/Mudman/state_data/hurt.json"
hitbox_areas_timeline_path = NodePath("../../Body/HitboxGroup/HurtTimeline")
state_commit_end_sec = 0.6
state_length_sec = 0.6
next_state = "Idle"

[node name="HurtStateAspect" type="Node" parent="FSM/Hurt" index="0"]
script = ExtResource( 7 )

[node name="MovedStateAspect" type="Node" parent="FSM/Hurt" index="1"]
script = ExtResource( 13 )
move_easing = 2

[node name="Falling" type="Node" parent="FSM" index="3"]
script = ExtResource( 4 )
state_params_filepath = "res://characters/Mudman/state_data/falling.json"
state_commit_end_sec = 1.0
next_state = "Idle"

[node name="MovedStateAspect" type="Node" parent="FSM/Falling" index="0"]
script = ExtResource( 13 )
move_easing = 2

[node name="HurtStateAspect" type="Node" parent="FSM/Falling" index="1"]
script = ExtResource( 7 )

[node name="Dying" type="Node" parent="FSM" index="4"]
script = ExtResource( 4 )
state_params_filepath = "res://characters/Mudman/state_data/dying.json"
state_commit_end_sec = 1.0
state_length_sec = 0.6

[node name="DyingStateAspect" type="Node" parent="FSM/Dying" index="0"]
script = ExtResource( 17 )
CorpseScene = ExtResource( 18 )

[node name="Logger" type="Node" parent="FSM" index="5"]
script = ExtResource( 12 )
naming_scheme = 1

[node name="MudmanCharacterRig" parent="Body" index="0" instance=ExtResource( 2 )]
position = Vector2( 0, -75 )

[node name="HealthBar" parent="Body/MudmanCharacterRig" index="2" instance=ExtResource( 9 )]
position = Vector2( -80, -175 )
tween_bar_delay = 0.15
tween_bar_move = 0.25

[node name="AttackTypeHitEffects" type="Node2D" parent="Body/MudmanCharacterRig" index="3"]
script = ExtResource( 14 )

[node name="BluntHitEffect" parent="Body/MudmanCharacterRig/AttackTypeHitEffects" index="0" instance=ExtResource( 16 )]
label_color = Color( 0.870588, 1, 0.00784314, 1 )

[node name="BleedingHitEffect" parent="Body/MudmanCharacterRig/AttackTypeHitEffects" index="1" instance=ExtResource( 15 )]
label_color = Color( 0.913725, 0.0156863, 0.0156863, 1 )

[node name="HitboxGroup" parent="Body" index="1"]
entity_path = NodePath("../../../MudmanCharacterMain/Body")

[node name="Idle" type="Area2D" parent="Body/HitboxGroup" index="0"]
collision_layer = 32
collision_mask = 0
script = ExtResource( 6 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Body/HitboxGroup/Idle" index="0"]
position = Vector2( -0.360563, -94.183 )
shape = SubResource( 1 )

[node name="Walk" type="Area2D" parent="Body/HitboxGroup" index="1"]
collision_layer = 32
collision_mask = 0
script = ExtResource( 6 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Body/HitboxGroup/Walk" index="0"]
position = Vector2( -4.00481, -92.388 )
shape = SubResource( 2 )

[node name="Hurt1" type="Area2D" parent="Body/HitboxGroup" index="2"]
collision_layer = 64
collision_mask = 0
script = ExtResource( 6 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Body/HitboxGroup/Hurt1" index="0"]
position = Vector2( -5.427, -99.422 )
shape = SubResource( 3 )

[node name="Hurt2" type="Area2D" parent="Body/HitboxGroup" index="3"]
collision_layer = 64
script = ExtResource( 6 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Body/HitboxGroup/Hurt2" index="0"]
position = Vector2( -20.352, -74.322 )
shape = SubResource( 4 )

[node name="HurtTimeline" type="Node2D" parent="Body/HitboxGroup" index="4"]
script = ExtResource( 10 )

[node name="AttackboxGroup" parent="Body" index="2"]
entity_path = NodePath("../../../MudmanCharacterMain/Body")

[node name="Terrain" type="CollisionShape2D" parent="." index="2"]
position = Vector2( -7.462, 12.513 )
shape = SubResource( 5 )

[node name="CurrentState" type="Label" parent="." index="3"]
margin_left = -61.6584
margin_top = -279.002
margin_right = 38.3416
margin_bottom = -254.002
rect_min_size = Vector2( 100, 25 )
custom_styles/normal = SubResource( 6 )
custom_colors/font_color = Color( 0.968627, 0.960784, 0.960784, 1 )
custom_colors/font_outline_modulate = Color( 1, 1, 1, 1 )
custom_colors/font_color_shadow = Color( 1, 1, 1, 1 )
text = "<NO_STATE>"
align = 1
valign = 1
__meta__ = {
"_edit_use_anchors_": false,
"_editor_description_": ""
}

[node name="CurrentPosition" type="Label" parent="." index="4"]
margin_left = -62.124
margin_top = -308.801
margin_right = 37.876
margin_bottom = -283.801
rect_min_size = Vector2( 100, 25 )
custom_styles/normal = SubResource( 6 )
custom_colors/font_color = Color( 0.968627, 0.960784, 0.960784, 1 )
custom_colors/font_outline_modulate = Color( 1, 1, 1, 1 )
custom_colors/font_color_shadow = Color( 1, 1, 1, 1 )
text = "<NO_STATE>"
align = 1
valign = 1
__meta__ = {
"_edit_use_anchors_": false,
"_editor_description_": ""
}
